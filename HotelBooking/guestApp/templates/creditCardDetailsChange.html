<!doctype html>
<html lang="ja">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>クレジットカード登録・変更</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
    <style>
      body {
        background-color: #f8f9fa;
      }
      h1 {
        text-align: center;
        margin-top: 20px;
        font-size: 2rem;
        color: #495057;
      }
      form {
        max-width: 500px;
        margin: 30px auto;
        padding: 20px;
        background-color: #ffffff;
        border-radius: 8px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
      }
      label {
        font-weight: bold;
        color: #495057;
        margin-top: 10px;
        display: block;
      }
      input {
        width: 100%;
        margin-top: 5px;
        margin-bottom: 15px;
        padding: 8px;
        border: 1px solid #ced4da;
        border-radius: 4px;
      }
      button {
        width: 100%;
        padding: 10px;
        background-color: #007bff;
        color: #fff;
        border: none;
        border-radius: 4px;
        font-size: 1rem;
        transition: background-color 0.3s ease;
      }
      button:hover {
        background-color: #0056b3;
      }
    </style>
  </head>
  <body>
    <h1>クレジットカード登録・変更</h1>
    <form action="/register_card" method="POST" onsubmit="return validateExpiryDate()">
        <label for="card_number">カード番号</label>
        <input type="text" name="card_number" id="card_number" placeholder="1234 5678 1234 5678" required>

        <label for="card_name">カード名義</label>
        <input type="text" name="card_name" id="card_name" placeholder="TARO YAMADA" required>

        <label for="expiry_date">カード有効期限</label>
        <input type="text" name="expiry_date" id="expiry_date" placeholder="YYYY-MM" required>

        <label for="security_code">セキュリティーコード</label>
        <input type="text" name="security_code" id="security_code" placeholder="123" required>

        <button type="submit">登録</button>
    </form>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz" crossorigin="anonymous"></script>
    <script>
      function validateExpiryDate() {
        const expiryDate = document.getElementById('expiry_date').value;
        const expiryDatePattern = /^\d{4}-(0[1-9]|1[0-2])$/;

        if (!expiryDatePattern.test(expiryDate)) {
          alert("有効期限は 'YYYY-MM' の形式で入力してください。");
          return false;
        }
        return true;
      }
    </script>
  </body>
</html>
